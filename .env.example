# Airbolt MVP Environment Configuration
# Copy this file to .env and set your values

# AI Provider Configuration
# Default provider is OpenAI. Set AI_PROVIDER to switch between providers
# AI_PROVIDER=openai  # Options: openai, anthropic

# Provider API Keys (required based on AI_PROVIDER selection)
# OpenAI: Get yours at https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic: Get yours at https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Development settings (required for React examples to work)
NODE_ENV=development

# Optional: Development overrides (uncomment to customize)
# PORT=3000
# LOG_LEVEL=info

# Optional: Production settings (required for production)
# JWT_SECRET=your-32-char-secret-here  # Generate with: openssl rand -hex 32
# ALLOWED_ORIGIN=https://yourdomain.com

# Optional: AI configuration
# AI_MODEL=gpt-4o-mini  # Override default model for selected provider
# SYSTEM_PROMPT=You are a helpful assistant

# Optional: Rate limiting (requests per minute)
# RATE_LIMIT_MAX=60
# RATE_LIMIT_TIME_WINDOW=60000

# Optional: Trust proxy headers (enable for cloud deployments like Render)
# TRUST_PROXY=true

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================

# JWT Token Configuration
# Auto-generated in development if not provided
# REQUIRED in production
# JWT_SECRET=your-32-char-secret-here  # Generate with: openssl rand -hex 32
# JWT_EXPIRES_IN=10m                   # Session token lifetime
# JWT_ALGORITHM=HS256                  # HS256 or RS256

# JWT Validation
# Set to false in development to skip JWT validation (faster development)
# Set to true in production (security requirement)
# VALIDATE_JWT=true  # Default: false in dev, true in production

# =============================================================================
# AUTHENTICATION PROVIDERS
# =============================================================================

# Clerk Authentication
# Get your keys from https://dashboard.clerk.com/
# CLERK_PUBLISHABLE_KEY=pk_test_...
# CLERK_SECRET_KEY=sk_test_...
# CLERK_AUTHORIZED_PARTIES=https://yourdomain.com,https://admin.yourdomain.com

# Auth0 Authentication
# Get your configuration from https://manage.auth0.com/
# AUTH0_DOMAIN=your-tenant.auth0.com
# AUTH0_AUDIENCE=https://your-api-identifier  # Recommended for security
# AUTH0_ISSUER=https://your-tenant.auth0.com/  # Optional: override auto-computed

# Supabase Authentication
# Get your configuration from https://app.supabase.com/
# SUPABASE_URL=https://xyz.supabase.co
# SUPABASE_JWT_SECRET=your-anon-or-service-role-key  # Min 32 characters

# Firebase Authentication
# Get your project ID from https://console.firebase.google.com/
# FIREBASE_PROJECT_ID=your-project-id

# Custom OIDC Provider
# For any OpenID Connect compatible provider
# EXTERNAL_JWT_ISSUER=https://your-oidc-provider.com/
# EXTERNAL_JWT_AUDIENCE=your-api-identifier  # Recommended for security
# EXTERNAL_JWT_JWKS_URI=https://provider.com/.well-known/jwks.json  # Optional: override discovery

# Advanced Custom OIDC (rare configurations)
# EXTERNAL_JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----...  # For RSA without JWKS
# EXTERNAL_JWT_SECRET=your-shared-secret  # For HMAC-based providers

# =============================================================================
# AUTHENTICATION RATE LIMITING
# =============================================================================

# Token exchange endpoint rate limiting
# Prevents abuse of authentication endpoints
# AUTH_RATE_LIMIT_MAX=10              # Max exchanges per window
# AUTH_RATE_LIMIT_WINDOW_MS=900000    # 15-minute window (in milliseconds)

# =============================================================================
# JWKS CACHE CONFIGURATION
# =============================================================================

# JWKS cache settings (for performance)
# JWKS_CACHE_TTL=3600000              # 1 hour cache TTL (milliseconds)
# JWKS_CACHE_MAX_SIZE=100             # Max cached JWKS entries
# JWKS_REQUEST_TIMEOUT=5000           # JWKS fetch timeout (milliseconds)